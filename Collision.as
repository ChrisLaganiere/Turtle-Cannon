package{	import flash.display.MovieClip;	import flash.geom.Point;		public class Collision	{		public function Collision()		{		}		static public function block(objectA:MovieClip, objectB:MovieClip):void		{			var objectA_Halfwidth:Number = objectA.width / 2;			var objectA_Halfheight:Number = objectA.height / 2;			var objectB_Halfwidth:Number = objectB.width / 2;			var objectB_Halfheight:Number = objectB.height / 2;			var dx:Number = objectB.x - objectA.x;			var ox:Number = objectB_Halfwidth + objectA_Halfwidth - Math.abs(dx);						if (ox > 0)			{				var dy:Number = objectA.y - objectB.y;				var oy:Number = objectB_Halfheight + objectA_Halfheight - Math.abs(dy);								if (oy > 0)				{					if (ox < oy)					{						if (dx < 0)						{							//Collision on Right							oy = 0;							objectA._vx *= -1;						}						else						{							//Collision on Left							ox *= -1;							oy = 0;							objectA._vx *= -1;						}					}					else					{						if (dy < 0)						{							//Collision on Top							ox = 0;							oy *= -1							objectA._vy *= -1;						}						else						{							//Collision on Bottom							ox = 0;							objectA._vy *= -1;						}					}										//move objectA out of collision					objectA.x += ox;					objectA.y += oy;				}			}		}				static public function crowBlock(objectA:MovieClip, objectB:MovieClip):void		{			var objectA_Halfwidth:Number = objectA.width / 2;			var objectA_Halfheight:Number = objectA.height / 2;			var objectB_Halfwidth:Number = objectB.width / 2;			var objectB_Halfheight:Number = objectB.height / 2;			var dx:Number = objectB.x - objectA.x;			var ox:Number = objectB_Halfwidth + objectA_Halfwidth - Math.abs(dx);						if (ox > 0)			{				var dy:Number = objectA.y - objectB.y;				var oy:Number = objectB_Halfheight + objectA_Halfheight - Math.abs(dy);								if (oy > 0)				{					if (ox < oy)					{						if (dx < 0)						{							//Collision on Right							oy = 0;							objectA._vx *= -1;							objectA._vy = 0						}						else						{							//Collision on Left							ox *= -1;							oy = 0;							objectA._vx *= -1;							objectA._vy = 0;						}					}					else					{						if (dy < 0)						{							//Collision on Top							ox = 0;							oy *= -1							objectA._vy *= -1;						}						else						{							//Collision on Bottom							ox = 0;							objectA._vy = objectA.gravityCap;						}					}										//move objectA out of collision					objectA.x += ox;					objectA.y += oy;				}			}		}		static public function cannonBlock(objectA:MovieClip, objectB:MovieClip):void		{			var objectA_Halfwidth:Number = objectA.width / 2;			var objectA_Halfheight:Number = objectA.height / 2;			var objectB_Halfwidth:Number = objectB.width / 2;			var objectB_Halfheight:Number = objectB.height / 2;			var dx:Number = objectB.x - objectA.x;			var ox:Number = objectB_Halfwidth + objectA_Halfwidth - Math.abs(dx);						if (ox > 0)			{				var dy:Number = objectA.y - objectB.y;				var oy:Number = objectB_Halfheight + objectA_Halfheight - Math.abs(dy);								if (oy > 0)				{					if (ox < oy)					{						if (dx < 0)						{							//Collision on Right							objectA.x = objectB.x;							objectA.y = objectB.y - objectA_Halfheight - objectB_Halfheight + 10;							objectA._vy = 0;							objectA.canJump = true;							objectA.gravity = false;							ox = 0;							oy = 0;						}						else						{							//Collision on Left							objectA.x = objectB.x;							objectA.y = objectB.y - objectA_Halfheight - objectB_Halfheight + 10;							objectA._vy = 0;							objectA.canJump = true;							objectA.gravity = false;							ox = 0;							oy = 0;						}					}					else					{						if (dy < 0)						{							//Collision on Top							objectA.x = objectB.x;							objectA.y = objectB.y - objectA_Halfheight - objectB_Halfheight + 10;							objectA._vy = 0;							objectA.canJump = true;							objectA.gravity = false;							ox = 0;							oy = 0;													}						else						{							//Collision on Bottom							objectA.x = objectB.x;							objectA.y = objectB.y - objectA_Halfheight - objectB_Halfheight + 10;							objectA._vy = 0;							objectA.canJump = true;							objectA.gravity = false;							ox = 0;							oy = 0;						}					}										//move objectA out of collision					objectA.x += ox;					objectA.y += oy;				}			}		}		public static function checkVisible(objectA:MovieClip):Boolean		{			if (Main.currentObject.localToGlobal(new Point(objectA.x, objectA.y)).y < objectA.height/2)			{				return false;			}			else if (Main.currentObject.localToGlobal(new Point(objectA.x, objectA.y)).y > Main.stageH + objectA.height/2)			{				MovieClip(objectA.parent).removeChild(objectA);				return false;			}			else			{				return true;			}		}	}}